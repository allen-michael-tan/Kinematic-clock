# Kinematic Clock

This repository showcases how Singapore Polytechnic's kinematic clock was made.  

Background info about the kinetic clock?

Design followed from?

## 3D Design

Before fabrication, all components were modelled in Autodesk Inventor Professional. The inventor files can be found [here](https://github.com/allen-michael-tan/Kinematic-clock/tree/main/Inventor%20files)

In this design, each digit will be represented using 6 individual smaller clocks, 24 clocks were needed to display 4 digits. The colour scheme used in the design is black and white.

### Clock design

<img src="https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Clock%20cad%201.jpg" alt="Clock cad 1" width="360"> <img src="https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Clock%20cad%202.jpg" alt="Clock cad 2" width="360" height="430.66">

The design of the individual clock bodies is shown above. 

### Board design

In addition to having a board to mount the clocks onto, 4 smaller boards are included in the design to raise the board forward, giving it a floating illusion when mounted onto a wall. 

<img src = "https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Board%20cad%201.jpg" alt="Board cad 1">

This is the front view of the board. 

<img src = "https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Board%20cad%202.jpg" alt="Board cad 2">

This is the back view of the board.

<img src = "https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Board%20cad%203.jpg" alt="Board cad 3">

These are the smaller boards attached to the back of the main board, they are offseted inwards to give the floating illusion when the board is mounted onto a wall.

<img src = "https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Board%20cad%204.jpg" alt="Board cad 4">

The above shows the assembly of the smaller boards onto the back of the main board. In the actual piece, they will be screwed into the main board using self tapping wood screws and L brackets. 

<img src = "https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Full%20cad%201.jpg" alt="Full cad 1">

<img src = "https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Full%20cad%202.jpg" alt="Full cad 2">

The above shows the respective front and back view of the full assembly of the kinematic clock in 3D CAD.

## Clock Assembly
Each clock is made up of: 

![Clock parts](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Clock%20parts.jpg)

1. Clock body [1]
2. Servo gear [2]
3. M2x12 pan head self-tapping screw [4]
4. M2x8 flanged pan head self-tapping screw [2]
5. Minute hand gear [1]
6. Hour hand gear [1]
7. Hour hand shaft [1]
8. Minute hand [1]
9. Hour hand [1]
10. Continuous servo motor [2]
11. M3 plain washer [3]
12. Bamboo skewer [1]
13. Retaining ring [1]  

### Parts manufacturing

The components of each clock were created using 3D printers, laser cutters and vinyl stickers.

#### 3D print

![3D printed part 1](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/3D%20printed%20part%201.jpeg)

![3D printed part 2 (clock body)]()

Majority of the clock parts were 3D printed with PLA material.

#### Laser cut

![Laser cut parts](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Laser%20cut%20parts.jpeg)

Flat parts such as clock hands and hour retaining ring were made with laser cut 2mm black coloured acrylic. 

#### Vinyl sticker

![Vinyl sticker]()

In order to allow for uniformity across all the clock faces, white vinyl stickers were cut and applied onto each clock face. 

### Pre-assembly preparation

Before each clocks were put together, some components of the clock had to be prepared first.

#### Coating of 3D printed parts

![Spray coating](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Spray%20coating.jpeg)

The material used for all 3D printed parts was PLA. This material has the tendency to disintigrate after a period of time, so a clear coat was applied on all the printed parts to increase their longevity. 

#### Hour hand assembly

![Hour hand assembly](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Hour%20hand%20assembly.jpg)

The laser cut hour hand (blue arrow) was superglued to the tip of the hour hand shaft as shown above.

#### Minute hand assembly

![Minute hand assembly 1](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Minute%20hand%20assembly%201.jpeg)

3mm thick bamboo skewers were cut into lengths of 60mm.

![Minute hand assembly 2](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Minute%20hand%20assembly%202.jpg)

M3 plain washer was superglued to the underside of the laser cut minute hand (blue arrow), this is done so to minimize friction between the minute and hour hand as they rotate. 

After which, a bamboo skewer was inserted to the minute hand and superglued (green arrow).

![Minute hand assembly 3](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Minute%20hand%20assembly%203.jpg)

Lastly, on the other side of the minute hand where the bamboo skewer was inserted, black paint is applied onto the exposed side of the skewer (blue arrow). 

### Assembly

#### Step 1

![Clock assembly 1](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Clock%20assembly%201.jpg)

The colour theme of the clock was black and white - black board and clock hands, white clock face. As the clock bodies were printed in different colours, white vinyl stickers were cut out and pasted onto the outside face of the clock body (blue arrow). 

*****

#### Step 2

![Clock assembly 2](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Clock%20assembly%202.jpg)

Next, two continuous servo motors were installed onto the clock body as shown above and secured using 4 screws (blue arrows).

*****

#### Step 3

![Clock assembly 3](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Clock%20assembly%203.jpeg)

Before inserting the hour hand, the shaft hub was lubricated using WD 40 to reduce friction between the hour hand shaft and the clock body.

*****

#### Step 4

![Clock assembly 4](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Clock%20assembly%204.jpg)

The hour hand was inserted as shown (blue arrow). 

*****

#### Step 5

![Clock assembly 5](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Clock%20assembly%205.jpg)

After the hour hand has been inserted, a retaining ring (blue arrow) was inserted as shown to prevent he hour hand from falling off. 

Following that, the hour hand gear (yellow arrow) and a servo gear (green arrow) was assembled accordingly. Then, a screw is used to secure the servo gear to the servo motor. 

*****

#### Step 6

![Clock assembly 6](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Clock%20assembly%206.jpg)

In this final step, the minute hand (yellow arrow) was inserted into the hour hand shaft, followed by two washers (green arrow) and minute hand gear (blue arrow).

It is important to note that, the before inserting the minute hand gear, the bamboo skewer should rotate freely with little friction whilst inserted in the hour hand shaft. This is because if there was too much friction, when the hour hand rotates, the minute hand will rotate along it which is undesired. 

The purpose of the washer is to prevent the bamboo skewer from jiggling in and out the hour hand shaft.

Lastly, a second servo gear (red arrow) is secured to the second servo motor with a screw as shown.  

## Board

The main board was made out of 15mm thick plywood. The parts were cut using a 2D CNC router. 

#### Step 1

![CNC cutting 1](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/CNC%20cutting%201.jpeg)

CNC cutting

![CNC cutting 2](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/CNC%20cutting%202.jpeg)

Chisel

****

#### Step 2

![Sand + wood filler](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Sand%20%2B%20wood%20filler.jpeg)

ds

****

#### Step 3

![Predrill](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Predrill.jpeg)

ds

****

#### Step 4

![Painting 1](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Painting%201.jpeg)

![Painting 2](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Painting%202.jpeg)

ds

****

#### Step 5

then talk abt spray lacquer

****

#### Step 6

![Assembly 1](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Assembly%201.jpg)

ds

****

#### Step 7

![Assembly 2](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Assembly%202.jpeg)

## Wiring

To control the 48 servo motors, three PWM servo motor drivers were used. Modifications to the two of the three drivers were done before they could all be daisy-chained together.

![Servo boards connection](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Servo%20boards%20connection.jpg)

For board two, A0 was bridged; while for board three, A1 was bridged. The boards were then connected as shown.

![Servos to board 1](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Servos%20to%20board%201.jpg)

Each driver board will control 16 individual motors, its wiring to the board is as shown. The remaining motors were wired exactly the same way as this board.

![Wiring of clock hands 1](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Wiring%20of%20clock%20hands%201.jpg)

The servo motors of each individual minute and hour hands were wired to each resepctive boards with reference to the table above. "M" refers to minute hand while "H" refers to hour hand. 

![Wiring of clock hands 2](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Wiring%20of%20clock%20hands%202.jpg)

The above shows how the clocks are grouped from the front. 

![Boards connection](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Boards%20connection.jpg)

A real time clock (RTC) module, DS3231 was used to accurately calculate the time displayed by the servo motors. 

The wiring connection of all the different boards is as of above. *(click image to see which ports need to be connected.)*

![Full schematic](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Full%20schematic.jpg)

This is the full schematic diagram of the kinematic clock.

![Circuit board](https://github.com/allen-michael-tan/Kinematic-clock/blob/main/Images/Circuit%20board.jpeg)

A circuit board was made to make the system modular should any replacement work is needed.

![Mounting of boards]()

All the different circuit boards were adhered onto the back of the board with double-sided foam tape. 

![Final wiring]()

This is how the back of the clock looked like after everything is wired and assembled. 

## Programming

### Calibration

### Code

#### RTC code
		#include <Wire.h>
		#include <ds3231.h>
 
		struct ts t; 
 
		void setup() {
  		Serial.begin(9600);
  		Wire.begin();
  		DS3231_init(DS3231_CONTROL_INTCN);
  		/*----------------------------------------------------------------------------
  		In order to synchronise your clock module, insert timetable values below !
  		----------------------------------------------------------------------------*/
  		t.hour=12; 
  		t.min=30;
  		t.sec=0;
  		t.mday=25;
  		t.mon=12;
  		t.year=2019;
 
  		DS3231_set(t); 
		}
 
		void loop() {
  		DS3231_get(&t);
  		Serial.print("Date : ");
  		Serial.print(t.mday);
  		Serial.print("/");
  		Serial.print(t.mon);
  		Serial.print("/");
  		Serial.print(t.year);
  		Serial.print("\t Hour : ");
  		Serial.print(t.hour);
  		Serial.print(":");
  		Serial.print(t.min);
  		Serial.print(".");
  		Serial.println(t.sec);
 
  		delay(1000);
		}

#### Full code
		dfdf

## Final Product

![Final product]()

<a href="https://www.youtube.com/watch?v=qirl-tjCUZg"><img src="http://img.youtube.com/vi/YOUTUBE_VIDEO_ID_HERE/0.jpg" 
alt="Youtube video of kinetic cloc"k wdthi="240" height="180" border="10" /></a> 